<!DOCTYPE html>
<html ⚡ lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
  <meta property="og:description" content="Fan Stories">
  <meta name="amp-experiments-opt-in" content="">
  <script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Webpage",
    "url": "https://www.fanstories.co/ru/docs/guides/analytics/deep_dive_analytics.html",
    "name": "AMP Project",
    "headline":"Погружение в AMP Analytics",
    "mainEntityOfPage": {
      "@type": "WebPage",
      "@id": "https://www.fanstories.co/ru/docs/guides/analytics/deep_dive_analytics.html"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Fan Stories",
      "logo": {
          "url": "/static/img/logo.svg",
          "width": 175,
          "height": 60,
          "@type": "ImageObject"
      }
    },
    "image": {
      "@type": "ImageObject",
      "url": "/static/img/logo.svg",
      "width": 1200,
      "height": 630
    }
  }
  </script>

  <title>Погружение в AMP Analytics – FanStories</title>
  <link rel="icon" href="/static/img/logo.svg">
  <link rel="canonical" href="https://www.fanstories.co">

  <link rel="manifest" href="/manifest.json">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <link rel="apple-touch-icon" sizes="120x120" href="/static/img/icons/120.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/static/img/icons/152.png">
  <link rel="apple-touch-icon" sizes="167x167" href="/static/img/icons/167.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/static/img/icons/180.png">

  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400" rel="stylesheet">

  <script async src="https://cdn.ampproject.org/v0.js"></script>
  <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>
  <script async custom-element="amp-accordion" src="https://cdn.ampproject.org/v0/amp-accordion-0.1.js"></script>
  <script async custom-element="amp-install-serviceworker" src="https://cdn.ampproject.org/v0/amp-install-serviceworker-0.1.js"></script>
  <script async custom-element="amp-form" src="https://cdn.ampproject.org/v0/amp-form-0.1.js"></script>


  <style amp-custom>
a.underlined,a code,.card-container.grid .card-link p{hyphens:manual;overflow-wrap:normal;white-space:nowrap;word-break:normal;word-wrap:normal}.toc a{overflow-wrap:break-word;white-space:normal;word-break:break-word;word-wrap:break-word}.light,a,.text-label,html th,body th,.toc::before,amp-sidebar .return-button{font-size:14px;font-weight:400;letter-spacing:.56px;line-height:16px;text-transform:uppercase}@media only screen and (max-width: 956px){.light,a,.text-label,html th,body th,.toc::before,amp-sidebar .return-button{font-size:12px}}body,.header .tab .list-container>ul li a,.doc-sidebar .section-name,.card,.searchbar input{font-weight:300;text-transform:none}body,.card{font-size:20px;line-height:28px}@media only screen and (max-width: 956px){body,.card{font-size:16px;line-height:26px}}.small,.doc-sidebar li.sub-level>.section-name,.header .tab .list-container>ul li a,.post-content,.doc-sidebar .section-name,.searchbar input{color:#333;font-size:16px;line-height:26px}@media only screen and (max-width: 956px){.small,.doc-sidebar li.sub-level>.section-name,.header .tab .list-container>ul li a,.post-content,.doc-sidebar .section-name,.searchbar input{font-size:14px}}.smaller{color:#333;font-size:14px;line-height:26px}.light{color:#959595;margin-bottom:15px}.desktop-up,.desktop-only{display:none;visibility:hidden}@media only screen and (min-width: 957px){.desktop-up,.desktop-only{display:block;visibility:visible}}.tablet-up{display:none;visibility:hidden}@media only screen and (min-width: 1025px){.tablet-up{display:block;visibility:visible}}.tablet-down{display:none;visibility:hidden}@media only screen and (max-width: 1024px){.tablet-down{display:block;visibility:visible}}.mobile-down{display:none;visibility:hidden}@media only screen and (max-width: 956px){.mobile-down{display:block;visibility:visible}}@keyframes cta-line{0%{transform-origin:100% 50%;transform:scaleX(1)}45%{transform-origin:100% 50%;transform:scaleX(0)}55%{transform-origin:0% 50%;transform:scaleX(0)}100%{transform-origin:0% 50%;transform:scaleX(1)}}.header .tab .list-container>ul li.has-sublist::after,.doc-sidebar li.top-level.expandable>.section-name::after,.language .current::after,amp-sidebar .language .current::after,amp-sidebar .has-sub-level::after,footer .footer-image.twitter,footer .footer-image.wordpress,footer .footer-image.youtube{display:inline-block;background-image:url("/static/img/sprite.svg");background-size:100px 74px}html,body,blockquote,pre,hr,dl,dd,ol,ul,figure{margin:0;padding:0}html,body{box-sizing:border-box;overflow-x:hidden}body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#000;font-family:"Roboto",sans-serif;padding-top:80px}@media only screen and (max-width: 956px){body{padding-top:120px}}img{border:0;max-width:100%}h1,h2,h3,h4,h5{color:#000;font-weight:300;margin:0.25em 0}h1,h2.h1{font-size:50px;font-weight:100;line-height:65px}@media only screen and (max-width: 956px){h1,h2.h1{font-size:35px;line-height:44px}}h2{font-size:40px;line-height:50px;font-weight:100}@media only screen and (max-width: 956px){h2{font-size:26px;line-height:40px;font-weight:300}}h3{font-size:30px;line-height:40px}@media only screen and (max-width: 956px){h3{font-size:20px;line-height:28px}}h4{font-size:24px;line-height:32px}@media only screen and (max-width: 956px){h4{font-size:18px;line-height:26px}}a{color:#001e8c;position:relative;text-decoration:none}a.underlined::before,a code::before,.card-container.grid .card-link p::before{background:linear-gradient(to right, #e20f2f, #88c6f7);bottom:-3px;content:'';left:0;height:1px;position:absolute;right:0}a.underlined.cta,a code.cta,.card-container.grid .card-link p.cta{overflow:hidden}a.underlined.cta::before,a code.cta::before,.card-container.grid .card-link p.cta::before{bottom:-5px;height:2px}a.underlined.cta:hover::before,a code.cta:hover::before,.card-container.grid .card-link p.cta:hover::before{animation:0.5s 1 cta-line}@media only screen and (max-width: 956px){a{font-size:14px}}.button{background-color:#e20f2f;display:inline-block;color:#fff;padding:15px 20px;position:relative;transition:background-color 0.3s}.button span{position:relative;z-index:1}.button::before{background:linear-gradient(to right, #e20f2f, #88c6f7);bottom:-2px;content:'';left:0;height:2px;position:absolute;right:0}.button::after{background:linear-gradient(36deg, #88c6f7, #e20f2f);content:'';z-index:-1;position:absolute;top:0;left:0;right:0;bottom:0}.button:hover{background-color:transparent}.button:hover .arrow{transform:translateX(3px)}.button.light{background:#fff;color:#001e8c}.button.light::after{background:linear-gradient(36deg, #5ADAFD, #51B9FD);opacity:0;transition:opacity 0.3s;z-index:0}.button.light:hover{color:#fff}.button.light:hover::after{opacity:1}.button .arrow{border-top:5px solid transparent;border-bottom:5px solid transparent;border-left:7px solid white;display:inline-block;height:0;margin-left:8px;transition:transform 0.3s;width:0}.rtl .button .arrow{margin:0 8px 0 0;transform:rotate(180deg)}.rtl .button:hover .arrow{transform:rotate(180deg) translateX(3px)}blockquote{color:#797c82;border-left:4px solid #f9f9f9;padding-left:15px;font-size:18px;letter-spacing:-1px;font-style:italic}blockquote>:last-child{margin-bottom:0}.rtl blockquote{border-left:0;border-right:4px solid #f9f9f9;padding-left:0;padding-right:15px}p:last-child{margin-bottom:0}figure{-webkit-margin-before:0;-webkit-margin-after:0;-webkit-margin-start:0;-webkit-margin-end:0}amp-youtube,amp-vimeo{box-shadow:0px 3px 20px 0 rgba(0,0,0,0.1)}.rtl figure{direction:ltr}.container{box-sizing:border-box;margin:0 auto;max-width:3000px;padding:0 22px}.container.sm{max-width:800px}.container.md{max-width:925px}.container.lg{max-width:1200px}.container.xl{max-width:1440px}.wrap{margin:0 auto;overflow:hidden}:target::before{content:'';display:block;height:110px;margin-top:-110px;visibility:hidden}@media only screen and (max-width: 956px){:target::before{height:70px;margin-top:-70px}}.header{backface-visibility:hidden;background-color:#fff;box-shadow:0 0 40px 0 rgba(0,0,0,0.1);font-size:14px;font-weight:300;transform:translateZ(0)}.header.fixed{left:0;position:fixed;top:0;transform:translateY(0%);transition:all .4s ease;width:100%;z-index:1000}.header .nav-container,.header .left-nav,.header .alt,.header .tabs{display:flex}.header .nav-container{justify-content:space-between;position:relative}.header .left-nav,.header .alt{justify-content:flex-start}.header .left-nav{align-items:center;font-size:20px;font-weight:300;margin-left:0}.header .left-nav .header-title{background:url("/static/img/logo-blue.svg") no-repeat center left/100%;color:#0379c4;margin:0;padding:40px 40px 40px 60px;text-transform:none;white-space:nowrap;width:auto}.header .left-nav .header-title::after,.header .left-nav .header-title::before{display:none}.header .alt,.header .tabs{align-items:stretch}.header .alt{padding:0}.header .alt.right{font-size:15px}.header .tabs{justify-content:center;margin-left:500px}.header .tab{color:#333;font-weight:400;margin:0 4px;padding:6px;position:relative;transition:.1s ease color}.header .tab::after{background:linear-gradient(to right, #e20f2f, #e20f2f, #88c6f7);bottom:0;content:'';height:3px;left:20px;margin:auto;opacity:0;position:absolute;right:20px;transition:.1s ease opacity}.header .tab:hover,.header .tab.active{color:#001e8c}.header .tab.active::after{opacity:1}.header .tab.active:hover::after{opacity:0}.header .tab.hamburger{align-self:center;background:url("/static/img/hamburger.svg") no-repeat center/30px 24px transparent;border:0;cursor:pointer;display:none;height:40px;margin:0;padding:0;width:40px}.header .tab{padding:6px 20px}.header .tab::before{bottom:0;box-shadow:0 0 40px 0 rgba(0,0,0,0.1);content:'';left:-10px;opacity:0;position:absolute;right:-10px;top:20px;transition:opacity .2s ease-out}.header .tab>a{color:inherit;position:relative;top:19px}.header .tab .list-container>ul,.header .tab .sublist{list-style:none}.header .tab .list-container,.header .tab .sublist{opacity:0;pointer-events:none;position:absolute}.header .tab .list-container{left:-10px;top:100%;transition:.2s ease-out;z-index:-1}.header .tab .list-shadow{bottom:-50px;left:-50px;overflow:hidden;position:absolute;right:-50px;top:0}.header .tab .list-shadow::before{bottom:50px;box-shadow:0 0 40px 0 rgba(0,0,0,0.1);content:'';left:50px;position:absolute;right:50px;top:0}.header .tab .list-container>ul{background:#fff;min-width:250px;position:relative}.header .tab .list-container>ul li{box-sizing:border-box;position:relative}.header .tab .list-container>ul li.has-sublist::after{width:6.12px;height:11.88px;background-position:-84px -38.94px;content:'';position:absolute;right:20px;top:18px}.header .tab .list-container>ul li a{display:block;padding:7.5px 30px}.header .tab .list-container>ul li:hover{background:#f8f8f8}.header .tab .list-container>ul li:hover .sublist{opacity:1;pointer-events:all}.header .tab .list-container>ul li.external a{background:no-repeat right 15px center / 12px}.header .tab .list-container>ul li.external:hover a{background-image:url("/static/img/ic_open_in_new_black.svg")}.header .tab .list-container>ul .sublist{background:#f8f8f8;box-shadow:0 0 40px 0 rgba(0,0,0,0.1);right:0;top:0;transform:translateX(100%);transition:opacity .3s;max-height:calc(100vh - 295px);overflow-y:auto}.header .tab .list-container>ul .sublist li:hover{background:white}.header .tab .list-container>ul .sublist li a{display:block;font-size:14px;line-height:1.3;padding:15px 35px}.header .tab:hover::before{opacity:1}.header .tab:hover .list-container{opacity:1;pointer-events:all;z-index:0}@media only screen and (min-width: 958px){.header .description.desktop-up{display:inline-block}}@media only screen and (max-width: 956px){.header .container{padding-right:18px}.header .left-nav{flex:1 1 auto;width:auto}.header .left-nav .header-title{margin:0;padding:30px 30px 30px 50px;width:auto}.header div.tab,.header .desktop{display:none}.header .tab.hamburger{display:inline-block}}.rtl .header .tabs{margin-right:60px}.rtl .header .tab .list-container{left:auto;right:-10px}.rtl .header .tab .list-container>ul li.has-sublist::after{left:20px;right:auto;transform:rotate(180deg)}.rtl .header .tab .list-container>ul li.external a{background-position:left 15px center}.rtl .header .tab .list-container>ul .sublist{left:0;transform:translateX(-100%);right:auto}.container .content{margin:0 auto;min-width:0;padding:100px 0;transition:all .25s ease;width:100%;word-break:break-word;overflow-wrap:break-word;word-wrap:break-word;word-break:break-word}.main{align-items:stretch;display:flex;margin-left:300px;min-height:calc(100vh - 274px)}.main h1{font-size:40px;font-weight:100;line-height:50px;margin-top:0}.main h2{font-size:30px;line-height:40px;margin-top:30px}.main h3{font-size:24px;line-height:32px;margin-top:30px}.main h4{font-size:18px;line-height:24px;margin-top:30px}.main h5{font-size:16px;font-weight:400;margin-top:30px}.main a{font-size:16px}.main aside a{font-size:14px}.main .content{flex-grow:1;-webkit-flex-grow:1;max-width:1000px;padding-bottom:60px;padding-top:70px}.main .content ul,.main .content ol{margin-left:40px}.main amp-img,.main amp-youtube,.main amp-iframe{margin:1em 0}.main .alignment-wrapper{margin-bottom:1em}.main .alignment-wrapper.left{float:left;margin-right:1em}@media only screen and (max-width: 956px){.main .alignment-wrapper.left{float:none;margin-right:0}}.main .alignment-wrapper.right{float:right;margin-left:1em}@media only screen and (max-width: 956px){.main .alignment-wrapper.right{float:none;margin-left:0}}.main .alignment-wrapper.half{width:calc(50% - 0.5em)}@media only screen and (max-width: 956px){.main .alignment-wrapper.half{width:auto}}.main .alignment-wrapper.third{width:calc(33% - 0.5em)}@media only screen and (max-width: 956px){.main .alignment-wrapper.third{width:auto}}.main .alignment-wrapper.margin-none{margin:0}.main .alignment-wrapper amp-img{margin:0}.main .alignment-wrapper figcaption{font-size:0.8em;color:#666;margin-top:1em;padding:1em 0;border-top:2px solid #f0f0f0;text-align:center}.rtl .main{margin:0 350px 0 auto}@media only screen and (max-width: 956px){.container .content{max-width:100%;padding:70px 0}.main{flex-direction:column;margin-left:0}.main h1{font-size:26px;line-height:40px;font-weight:300}.main h2{font-size:20px;line-height:28px}.main h3{font-size:18px;line-height:26px}.main a{font-size:14px}.rtl .main{margin-right:0}}.post-title{color:#001e8c;margin:0 75px;padding:0 15px}.post-content{margin:0 75px;padding:0 15px}.post-content a{text-transform:none}.post-content a[href*="//"]:not([href*="www.ampproject.org"]):not([href*="github.com/ampproject"])::after{content:"";display:inline-block;background-image:url("/static/img/ic_open_in_new_blue.svg");background-size:18px;width:18px;height:18px;margin-left:4px;vertical-align:text-bottom}.post-content .button:before{display:none}.post-content td:first-child a:hover{text-decoration:none}.post-content th.col-twenty,.post-content td.col-twenty{min-width:90px}.prev-next-buttons{width:100%;display:inline-block;padding-top:30px}.prev-button{text-align:left;float:left}.next-button{text-align:right;float:right}.arrow-prev::before{background:url(/static/img/arrow.svg) center/cover no-repeat;content:'';display:inline-block;height:12px;margin-right:10px;width:12px;transform:rotate(180deg)}.arrow-next::after{background:url(/static/img/arrow.svg) center/cover no-repeat;content:'';display:inline-block;height:12px;margin-left:10px;width:12px}@media only screen and (min-width: 1101px){.post.has-toc .post-title,.post.has-toc .post-content{margin:0 190px 0 15px}.rtl .post.has-toc .post-title,.rtl .post.has-toc .post-content{margin:0 15px 0 190px}}@media only screen and (max-width: 1100px){.post.has-toc .post-title,.post.has-toc .post-content{margin:0}.rtl .post.has-toc .post-title,.rtl .post.has-toc .post-content{margin:0}}@media only screen and (max-width: 1024px){.post-title,.post-content{margin:0 15px}}@media only screen and (max-width: 956px){.post-title,.post-content{margin:0}}.doc-sidebar{bottom:0;display:flex;flex-direction:column;left:0;position:fixed;top:80px;min-width:300px;max-width:400px;width:20vw;z-index:1;background:rgba(255,255,255,0.7)}.doc-sidebar .current-header{background:linear-gradient(36deg, #ebf3f4, #e20f2f);padding:28px 30px 5px}.doc-sidebar .current-header h1{color:#fff}.doc-sidebar .current-header h1{font-size:40px}.doc-sidebar .current-header a{color:#fff;font-size:40px;text-transform:none;font-weight:200}.doc-sidebar .current-sections{flex:1 1 auto;height:0;overflow:auto;padding-left:10px}.doc-sidebar .current-sections>ul{border-right:3px solid #ededed;padding:20px 0;min-height:calc(100vh - 213px)}.doc-sidebar .current-sections h5{padding-left:20px;color:#3085c5;margin:0;margin-top:10px;font-size:16px}.doc-sidebar .current-sections h5:first-of-type{margin-top:0}.doc-sidebar ul,.doc-sidebar ol,.doc-sidebar li{list-style-type:none}.doc-sidebar li{background:none;border:none;position:relative;padding:0}.doc-sidebar .section-name{background:none;border:none;margin:0;margin-right:10px;position:relative;display:block;font-size:20px}.doc-sidebar .section-name:hover{background:#f4fcfe}.doc-sidebar li a{padding:15px 0}.doc-sidebar li .open{color:#001e8c}.doc-sidebar li .open::before{background:linear-gradient(to right, #e20f2f, #e20f2f, #88c6f7);bottom:0;content:'';right:-13px;position:absolute;top:0;width:3px}.doc-sidebar li.top-level>a{padding-left:20px}.doc-sidebar li.top-level.expandable .section-name{padding-right:40px}.doc-sidebar li.top-level.expandable>.section-name::after{width:15.53px;height:8.3px;background-position:-84px -15.71px;content:'';position:absolute;right:10px;top:50%;transform:translateY(-50%) rotate(180deg)}.doc-sidebar li.top-level.expandable .section-name.current::after,.doc-sidebar li.top-level.expandable .section-name.open::after{transform:translateY(-50%)}.doc-sidebar li.top-level a.external{background:no-repeat right 3px / 20px;display:inline-block;padding-right:16px;width:95%}.doc-sidebar li.top-level a.external:hover{background-image:url("/static/img/ic_open_in_new_black.svg")}.doc-sidebar li.sub-level>.section-name{padding:6px 20px 6px 20px;color:black;font-size:16px;line-height:1.5}.doc-sidebar li.sub-level>.section-name.current{color:#001e8c}.doc-sidebar li.sub-level.expandable .section-name::after{color:#b3b3b3;content:'+';font-size:20px;position:absolute;right:10px;top:50%;transform:translateY(-50%)}.doc-sidebar li.sub-level.expandable .section-name.current::after,.doc-sidebar li.sub-level.expandable .section-name.open::after{content:'–'}.doc-sidebar li.sub-level li{color:#959595;padding-left:30px}.doc-sidebar li.sub-level li .section-name{font-size:14px;line-height:1.5}.doc-sidebar li.sub-level li .section-name::after{display:none}.doc-sidebar li.sub-level li:hover{background:#f4fcfe}@media only screen and (max-width: 956px){.doc-sidebar{border:none;border-bottom:3px solid #ededed;display:block;margin:0 -22px;padding:0 22px;position:static;width:100%;min-width:auto;max-width:none}.doc-sidebar .current-header{background:white;padding:0px 30px}.doc-sidebar .current-header .breadcrumb{color:#959595}.doc-sidebar .current-header h1{color:#333;margin-bottom:0}.doc-sidebar .current-sections{height:auto;padding:5px 20px 30px}.doc-sidebar .current-sections>ul{min-height:auto;border-right:0}.doc-sidebar .current-sections h5{padding-left:15px}.doc-sidebar li.top-level>.section-name{padding:5px 15px}.doc-sidebar li.sub-level>.section-name{padding:5px 15px}}.doc-footer{display:flex}.doc-footer .left{min-width:300px;max-width:400px;width:20vw}@media only screen and (max-width: 956px){.doc-footer .left{display:none}}.doc-footer .right{flex:1 0 auto}.doc-footer .cta-line.left{display:none}@media only screen and (max-width: 956px){.doc-footer{border:0;margin-left:0}}.rtl .doc-sidebar{left:auto;right:0}.rtl .doc-sidebar li.top-level a.external{background-position:left 3px;padding:0 0 0 16px}.rtl .doc-sidebar li.top-level>.section-name::before{left:auto;right:0}.rtl .doc-sidebar li.top-level.expandable>.section-name{padding:20px 20px 20px 30px}.rtl .doc-sidebar li.top-level.expandable .section-name::after{left:10px;right:auto}.rtl .doc-sidebar li.sub-level>.section-name{padding:5px 20px 5px 30px}.rtl .doc-footer{border-left:0;border-right:3px solid #ededed}@media only screen and (max-width: 956px){.rtl .doc-footer{border:0;margin-right:0}}.language{height:33px;left:100px;position:relative;top:-4px;-webkit-user-select:none;user-select:none}.language section{border:0;padding:0}.language section[expanded] .current,.language section[expanded] .others-inner{box-shadow:0 0 40px 0 rgba(0,0,0,0.1)}.language section[expanded] .current{left:60px}.language section[expanded] .current::after{transform:scale(0.75)}.language .current{font-size:1em;margin-right:100px;text-align:right;width:140px}.language .current::after{width:16px;height:8.3px;background-position:-42.58px -54.2px;content:'';display:inline-block;position:relative;top:-4px;transform:scale(0.75)}.language .others{padding:0 50px 50px 50px;left:-50px;top:-1px}.language .others-inner{background:#fff;margin:0}.language .others-inner div{width:200px}.language .others-inner div a{margin:0 10px;text-transform:capitalize}.language .others-inner div:hover{background-color:#f9f9f9}.language .current,.language .others-inner div{background-color:transparent;border:0;box-sizing:border-box;height:auto;padding:10px 15px 8px}.language .current:hover a,.language .others-inner div:hover a{text-decoration:none}.language .current a,.language .others-inner div a{color:#333;display:inline-block;overflow:hidden;padding:0;text-overflow:ellipsis;white-space:nowrap}.rtl .language{left:auto;right:100px}.rtl .language .current{margin:0 0 0 100px;right:-60px}.rtl .language .others{left:auto;right:-50px}.rtl .language section[expanded] .current{left:auto;right:0}.rtl .language .current a,.rtl .language .others-inner div a{background-position:right 6px}header .language{align-self:center;margin-left:12px}@media only screen and (max-height: 775px){header .language .others-inner div{padding:7px 15px}header .language .others-inner div a{display:block}}amp-sidebar .language{bottom:15px;left:10px;position:absolute;top:auto}amp-sidebar .language section[expanded] .current{left:0}amp-sidebar .language .current a,amp-sidebar .language .others-inner div a{color:#001e8c}amp-sidebar .language .current{margin-right:0;text-align:left}amp-sidebar .language .current::after{width:15.53px;height:8.3px;background-position:-84px -15.71px;top:-5px;transform:rotate(180deg) scale(0.75)}amp-sidebar .language .others{box-shadow:0 0 40px 0 rgba(0,0,0,0.1);left:0;padding:0;transform:translateY(-117%);transform:translateY(calc(-100% - 50px))}amp-sidebar .language .others .others-inner{box-shadow:none;width:240px}amp-sidebar .language .others .others-inner::after{clear:both;content:'';display:table}amp-sidebar .language .others .others-inner div{float:left;width:120px}.rtl amp-sidebar .language section[expanded] .current{right:-50px}pre,code,kbd,samp,tt{font-family:"Roboto Mono",Menlo,Monaco,Consolas,"Courier New",monospace;font-size:14px;color:#333;background:#f5f5f5;box-shadow:inset 0px 1px 4px #d6d6d6;border-radius:2px}code{padding:2px 5px;margin:0 2px}a code{color:#333;white-space:nowrap}a:hover code{color:#1c79be}h1 code,h2 code,h3 code,h4 code,h5 code{background:none;border:0;font-size:0.9em}.rtl code{direction:ltr}pre{overflow:auto;tab-size:2;word-break:normal;line-height:1.4;padding:1em;direction:ltr}pre>code{white-space:pre;word-wrap:initial;display:block}pre>code td{border:0}@media only screen and (max-width: 956px){.code pre{margin:0 -25px}code{font-size:13px}table a code{line-height:2;white-space:normal}}.highlight .hll{background-color:#ffffcc}.highlight .c{color:#0099FF;font-style:italic}.highlight .k{color:#006699;font-weight:bold}.highlight .o{color:#555555}.highlight .cm{color:#0099FF;font-style:italic}.highlight .cp{color:#009999}.highlight .c1{color:#0099FF;font-style:italic}.highlight .cs{color:#0099FF;font-weight:bold;font-style:italic}.highlight .gd{background-color:#FFCCCC;border:1px solid #CC0000}.highlight .ge{font-style:italic}.highlight .gr{color:#FF0000}.highlight .gh{color:#003300;font-weight:bold}.highlight .gi{background-color:#CCFFCC;border:1px solid #00CC00}.highlight .go{color:#848484}.highlight .gp{color:#000099;font-weight:bold}.highlight .gs{font-weight:bold}.highlight .gu{color:#003300;font-weight:bold}.highlight .gt{color:#99CC66}.highlight .kc{color:#006699;font-weight:bold}.highlight .kd{color:#006699;font-weight:bold}.highlight .kn{color:#006699;font-weight:bold}.highlight .kp{color:#006699}.highlight .kr{color:#006699;font-weight:bold}.highlight .kt{color:#007788;font-weight:bold}.highlight .m{color:#FF6600}.highlight .s{color:#CC3300}.highlight .na{color:#1867a3}.highlight .nb{color:#336666}.highlight .nc{color:#00AA88;font-weight:bold}.highlight .no{color:#336600}.highlight .nd{color:#9999FF}.highlight .ni{color:#999999;font-weight:bold}.highlight .ne{color:#CC0000;font-weight:bold}.highlight .nf{color:#CC00FF}.highlight .nl{color:#9999FF}.highlight .nn{color:#00CCFF;font-weight:bold}.highlight .nt{color:#1867a3;font-weight:bold}.highlight .nv{color:#003333}.highlight .ow{color:#000000;font-weight:bold}.highlight .w{color:#bbbbbb}.highlight .mf{color:#FF6600}.highlight .mh{color:#FF6600}.highlight .mi{color:#FF6600}.highlight .mo{color:#FF6600}.highlight .sb{color:#CC3300}.highlight .sc{color:#CC3300}.highlight .sd{color:#CC3300;font-style:italic}.highlight .s2{color:#CC3300}.highlight .se{color:#CC3300;font-weight:bold}.highlight .sh{color:#CC3300}.highlight .si{color:#AA0000}.highlight .sx{color:#CC3300}.highlight .sr{color:#33AAAA}.highlight .s1{color:#CC3300}.highlight .ss{color:#FFCC33}.highlight .bp{color:#336666}.highlight .vc{color:#003333}.highlight .vg{color:#003333}.highlight .vi{color:#003333}.highlight .il{color:#FF6600}.highlight .lineno{-webkit-user-select:none;-moz-user-select:none;-o-user-select:none}.lineno::selection{background-color:transparent}table{border-collapse:collapse;width:100%}td,th{padding:20px 30px;text-align:left;vertical-align:top}tr:nth-child(even){background:#eff9fc}.rtl td,.rtl th{text-align:right}th.col-fourty,td.col-fourty{width:40%}th.col-thirty,td.col-thirty{width:30%}th.col-twenty,td.col-twenty{width:20%}td:first-child{border-right:2px solid #001e8c}.rtl td:first-child{border-left:2px solid #001e8c;border-right:0}html th,body th{background:#fff;border-bottom:2px solid #001e8c;color:#001e8c}@media only screen and (max-width: 956px){td,th{padding:5px}th:first-child{border-right:2px solid #001e8c}}aside{background:#eff9fc;display:block;font-size:14px;line-height:24px;margin:16px 0;padding:24px 24px 24px 80px;position:relative;clear:both}aside strong{color:#e20f2f;text-transform:uppercase}aside code{font-size:13px}aside::before{float:left;word-wrap:normal;white-space:nowrap;margin-left:-36px;content:'';height:70px;left:44px;position:absolute;top:50%;transform:translateY(-50%);width:70px}aside.none{background:#fafafa;padding:24px 24px 24px 24px}aside.none strong{color:#333;text-transform:none}aside.note::before{background:url(/static/img/docs/icon_note.svg) center/cover no-repeat}aside.caution{background:#fff6f6}aside.caution strong{color:#ff5252}aside.caution::before{background:url(/static/img/docs/icon_important.svg) center/cover no-repeat}aside.warning{background:#fff6f6}aside.warning strong{color:#ff5252}aside.warning::before{background:url(/static/img/docs/icon_important.svg) center/cover no-repeat}aside.success{background-color:#f2fff8}aside.success strong{color:#00e676}aside.success::before{background:url(/static/img/docs/icon_tip.svg) center/cover no-repeat;top:45%}aside.read{background-color:#fffcef}aside.read strong{color:#edc10a}aside.read::before{background:url(/static/img/docs/icon_read.svg) center/cover no-repeat}.rtl aside{padding:24px 80px 24px 24px}.rtl aside::before{left:auto;margin:0 -36px 0 0;right:44px}.toc{background:#fff;box-shadow:0 3px 20px 0 rgba(0,0,0,0.075);box-sizing:border-box;position:fixed;right:0;top:80px;bottom:0;padding:50px 20px;overflow:auto;width:200px;width:16vw;min-width:180px;max-width:250px}.toc::before{color:#001e8c;content:'Contents'}.toc ul,.toc ol{list-style:none;margin:0 auto}.main .content .toc ul,.main .content .toc ol{margin-left:0}.toc li{margin:15px 0}.toc li ul{margin-left:10px}.main .content .toc li ul{margin-left:10px}.toc li ul a{font-size:0.9em}.toc a{color:#333;display:block;position:relative;text-transform:none;font-weight:300;line-height:1.5}.toc a::before{display:none}.toc a:hover,.toc a.active{color:#001e8c}.toc a:hover::before,.toc a.active::before{background:linear-gradient(to right, #e20f2f, #88c6f7);bottom:-5px;content:'';height:1px;left:0;position:absolute;right:0}.toc a:hover code,.toc a.active code{background:transparent;color:#001e8c}.toc a code{border:0;padding:0}.toc a code::before{display:none}.rtl .toc{left:0;right:auto}@media only screen and (max-width: 1100px){.toc{position:static;width:auto;max-width:none;padding:12px 20px;margin:30px 0}}@media only screen and (max-width: 956px){.toc{display:none}}.card-container{box-sizing:border-box;display:flex;justify-content:space-between;padding:20px 5px}.card{background:#fff;box-shadow:0px 3px 20px 0 rgba(0,0,0,0.075);box-sizing:border-box;display:inline-block;flex:0 0 31%;flex:0 0 calc(33% - 30px);flex-basis:calc(33% - 30px);height:90%;margin:10px 5px;padding:10px;position:relative;transition:transform 0.3s, box-shadow 0.3s}.card::before{background:linear-gradient(to right, #e20f2f, #e20f2f, #88c6f7);content:'';left:0;height:2px;position:absolute;right:0;top:-2px}.card.centered{align-items:center;text-align:center}.card:hover{box-shadow:0px 3px 50px 0 rgba(0,0,0,0.075);transform:translateY(-5px)}.card--spacer{box-shadow:none;height:0;padding:0}.card--spacer::before{display:none}.card--spacer:hover{box-shadow:none}.card-inner{display:inline-flex;flex-direction:column;height:100%;justify-content:space-between;width:100%}.card-type{color:#001e8c;margin-bottom:15px}.card-content{font-weight:300;text-transform:none}.card-date{margin-top:10px}.card-section-heading{font-size:30px;margin:50px 10px 0}.card-container.grid{flex-wrap:wrap}.card-container.grid::after{content:'';display:block;flex:0 0 31%;flex:0 0 calc(33% - 30px);flex-basis:calc(33% - 30px);margin:10px 5px;visibility:hidden}.card-container.grid .card{display:flex;height:auto;min-height:400px;padding:0}.card-container.grid .card:hover .card-link p::before{animation:.5s 1 cta-line}.card-container.grid .card-inner{display:flex;height:auto;padding:50px;width:100%}.card-container.grid .card-title{display:block;flex:1 0 auto;hyphens:none;margin-bottom:1em}.card-container.grid .card-title h2{font-size:36px;word-break:initial}.card-container.grid .card-link p{color:#001e8c;display:inline;margin:0;padding:0;position:relative}.card-container.grid .card-link p::before{bottom:-5px;height:2px}.card-container.case .card-inner{padding:50px}.card-container.case .card-date::before{content:' | ';display:inline;margin:0 12px}.card-container.case .card-logo{align-items:center;display:flex;height:40px;margin:1em 0}@media only screen and (max-width: 956px){.card-container.grid .card,.card-container.case .card{flex:0 0 48%;flex:0 0 calc(50% - 30px);flex-basis:calc(50% - 30px)}.card-container.grid .card-title,.card-container.case .card-title{margin-bottom:2em}.card-section-heading{margin:50px 0 0}}@media only screen and (max-width: 768px){.card-container.grid .card,.card-container.case .card{flex:0 0 100%;margin:10px 0;min-height:300px}}amp-accordion section{border-bottom:2px solid #ededed}.accordion-header,.accordion-content{margin:20px 0;padding:0 25px 0 65px}.accordion-header{background-color:transparent;border:0}.accordion-title{margin:0;position:relative;transition:color 0.3s}.accordion-title:hover{color:#001e8c}.accordion-title::before,.accordion-title::after{background:linear-gradient(to right, #e20f2f, #88c6f7);content:'';display:inline-block;height:2px;left:-40px;position:absolute;top:50%;width:8px}.accordion-title::after{transform:rotate(90deg)}section[expanded] .accordion-title::after{content:none}.accordion-content p:first-child{margin-top:0}.accordion-content p:last-child{margin-bottom:2px}@media only screen and (max-width: 956px){amp-accordion section{border-bottom:1px solid #ededed}.accordion-header,.accordion-content{margin:15px 0;padding:0 0 0 30px}.accordion-title::before,.accordion-title::after{left:-30px}}amp-sidebar{background:#fff;width:100vw}amp-sidebar .submenu{background:#fff;bottom:0;box-shadow:0 3px 20px 0 rgba(0,0,0,0.075);left:0;position:fixed;right:0;top:0;transform:translateX(100%);transition:transform 233ms cubic-bezier(0, 0, 0.21, 1)}amp-sidebar input:checked+.submenu{transform:translateX(0)}amp-sidebar input[type="checkbox"]{position:absolute;visibility:hidden}amp-sidebar .menu-item{border-bottom:solid 1px #ededed;color:#000;display:block;position:relative;text-transform:none}amp-sidebar .menu-item:hover{background:#f9f9f9}amp-sidebar .item-layer-1{font-size:35px;font-weight:100;line-height:44px;padding:30px 35px 30px 25px}amp-sidebar .item-layer-2,amp-sidebar .item-layer-3{font-size:18px;font-weight:300;line-height:26px;padding:15px 35px 15px 25px}amp-sidebar .menu-layer::after{background:#001e8c;bottom:0;content:'';position:absolute;right:0;top:0;width:13px}amp-sidebar .menu-layer .items{left:0;overflow-x:hidden;overflow-y:scroll;position:absolute;right:0}amp-sidebar .menu-layer.primary{height:100%;position:relative}amp-sidebar .menu-layer.primary .items{bottom:80px;top:60px}amp-sidebar .menu-layer.secondary{z-index:2}amp-sidebar .menu-layer.tertiary{z-index:3}amp-sidebar .menu-layer.secondary .items,amp-sidebar .menu-layer.tertiary .items{bottom:0;top:85px}amp-sidebar .has-sub-level::after{width:15.53px;height:8.3px;background-position:-84px -15.71px;content:'';height:12px;position:absolute;right:35px;top:calc(50% - 6px);transform:rotate(90deg) scale(0.75);width:16px}amp-sidebar .close-button{background:url(/static/img/symbols/close.svg) no-repeat center/18px transparent;border:0;height:58px;position:absolute;right:13px;top:0;width:68px}amp-sidebar .return-button{color:#b3b3b3;font-weight:300;left:25px;position:absolute;top:22px}amp-sidebar .return-button::before{background:url(/static/img/symbols/return.svg) no-repeat center/contain transparent;border:0;content:'';display:inline-block;height:11px;margin-right:5px;position:relative;top:1px;width:7px}.rtl amp-sidebar .item-layer-1{padding:30px 35px}.rtl amp-sidebar .has-sub-level::after{left:35px;right:auto;transform:rotate(-90deg) scale(0.75)}.rtl amp-sidebar .return-button::before{margin:0 5px;transform:rotate(180deg)}.rtl amp-sidebar .submenu{transform:translateX(-100%)}.searchbar{position:absolute;right:175px;top:23px;z-index:2}@media only screen and (max-width: 1030px){.searchbar{display:none}}.searchbar input{border:0;border-bottom:1px solid #4d4d4d;font-family:"Roboto",sans-serif;outline:0;vertical-align:bottom}.searchbar button{background:url(/static/img/symbols/search.svg) center/cover no-repeat;border:0;cursor:pointer;height:24.2px;position:relative;top:3px;vertical-align:middle;width:24.6px}.rtl .searchbar{left:230px;right:auto}footer{background-color:#fff;padding:30px 0;position:relative;text-align:center}footer .footer-image{margin:0 10px}footer .footer-image.twitter{width:22.93px;height:19.66px;background-position:0px -54.2px}footer .footer-image.wordpress{width:24.03px;height:24.03px;background-position:-24.6px -30px}footer .footer-image.youtube{width:24px;height:24px;background-position:-60px -24px}footer .footer-icons{align-items:center;display:flex;flex-direction:row;justify-content:center;display:inline-block}footer .footer-privacy{color:#727272;font-size:12px;font-weight:400;justify-content:center;text-transform:none;padding-top:15px}footer .footer-terms{color:#727272;font-size:12px;font-weight:400;justify-content:center;text-transform:none;padding-top:15px}.footer-cta{background:linear-gradient(to right, #e20f2f, #e20f2f, #88c6f7);display:block;padding:20px 30px;position:relative;z-index:1}.footer-cta .cta-line{position:absolute}.footer-cta .cta-line.left{height:140px;left:0;top:-50px;width:156px}.footer-cta .cta-line.right{bottom:-30px;height:107.5px;right:-50px;width:175px}.footer-cta .cta-line.right-half{bottom:0;height:77.5px;right:-50px;width:175px;overflow:hidden}.footer-cta .inner{position:relative;margin:0 auto;max-width:1200px;width:80%}.footer-cta .inner h2{text-transform:none}.footer-cta .inner h2,.footer-cta .inner .link-text{color:#fff;display:inline-block}.footer-cta .inner .link-text{color:white;position:absolute;right:0;top:50%;transform:translateY(-50%)}.footer-cta .inner .link-text::after{background:url(/static/img/arrow.svg) center/cover no-repeat;content:'';display:inline-block;height:12px;margin-left:10px;width:12px}.rtl .footer-cta .inner .link-text{left:0;right:auto}.rtl .footer-cta .inner .link-text::after{margin:0 10px 0 0;transform:rotate(180deg)}@media only screen and (max-width: 1000px){.footer-cta .inner{width:90%}}@media only screen and (max-width: 956px){.footer-cta{overflow:hidden}.footer-cta .cta-line.right,.footer-cta .cta-line.right-half{bottom:10px;right:-100px;height:107.5px}.footer-cta .inner{text-align:center;width:100%}.footer-cta .inner h1,.footer-cta .inner .link-text{display:block}.footer-cta .inner .link-text{margin-top:20px;position:static}}  </style>

  <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>

</head>
<body class="">

  <amp-analytics type="googleanalytics" id="analytics-ga">
    <script type="application/json">
    {
      "vars": {
        "account": "UA-67833617-1"
      },
      "triggers": {
        "trackPageview": {
          "on": "visible",
          "request": "pageview"
        }
      }
    }
    </script>
  </amp-analytics>

<amp-sidebar id='sidebar' side='right' layout='nodisplay'>
  <form class="menu-layer primary" action="/" target="_top">
    <button type="reset" class="close-button" id="menu-button" on='tap:sidebar.toggle'></button>
    <div class="items">
        <label class="menu-item item-layer-1 has-sub-level"><input type="checkbox">
        Platform Overview
          <div class="submenu menu-layer secondary">
            <div class="return-button">Back</div>
            <button type="reset" class="close-button" id="menu-button" on='tap:sidebar.toggle'></button>
            <div class="items">
                <a class="menu-item item-layer-2" href="/ru/learn/overview/">Overview</a>
                <a class="menu-item item-layer-2" href="/ru/learn/about-how/">How Fan Stories works</a>
                <a class="menu-item item-layer-2" href="/ru/learn/full-features/">Feature list</a>
                <label class="menu-item item-layer-2 has-sub-level"><input type="checkbox">Who is Fan Stories for?
                  <div class="submenu menu-layer tertiary">
                    <div class="return-button">Back</div>
                    <button type="reset" class="close-button" id="menu-button" on='tap:sidebar.toggle'></button>
                    <div class="items">
                      <a class="menu-item item-layer-3" href="/ru/learn/who-uses-fanstories/">Who is Fan Stories for?</a>
                    </div>
                  </div>
                </label>
                <label class="menu-item item-layer-2 has-sub-level"><input type="checkbox">Case Studies
                  <div class="submenu menu-layer tertiary">
                    <div class="return-button">Back</div>
                    <button type="reset" class="close-button" id="menu-button" on='tap:sidebar.toggle'></button>
                    <div class="items">
                      <a class="menu-item item-layer-3" href="/ru/learn/case-studies/">Case Studies</a>
                    </div>
                  </div>
                </label>
            </div>
          </div>
        </label>
        <label class="menu-item item-layer-1 has-sub-level active"><input type="checkbox">
        Getting Started
          <div class="submenu menu-layer secondary">
            <div class="return-button">Back</div>
            <button type="reset" class="close-button" id="menu-button" on='tap:sidebar.toggle'></button>
            <div class="items">
                <a class="menu-item item-layer-2" href="/ru/docs/getting-started/">Step by step instructions</a>
            </div>
          </div>
        </label>
        <label class="menu-item item-layer-1 has-sub-level"><input type="checkbox">
        News and Updates
          <div class="submenu menu-layer secondary">
            <div class="return-button">Back</div>
            <button type="reset" class="close-button" id="menu-button" on='tap:sidebar.toggle'></button>
            <div class="items">
                <a class="menu-item item-layer-2" href="/ru/latest/">What's New</a>
                <a class="menu-item item-layer-2" href="/ru/latest/blog">News</a>
                <a class="menu-item item-layer-2" href="/ru/latest/event/">Events</a>
            </div>
          </div>
        </label>
        <label class="menu-item item-layer-1 has-sub-level"><input type="checkbox">
        Blog
          <div class="submenu menu-layer secondary">
            <div class="return-button">Back</div>
            <button type="reset" class="close-button" id="menu-button" on='tap:sidebar.toggle'></button>
            <div class="items">
                <a class="menu-item item-layer-2 external" href="http://blog.fanstories.co/2017/09/06/fan-stories-announces-paywall-feature-for-content-creators-802.html">Latest: Announcing paywall</a>
            </div>
          </div>
        </label>
        <label class="menu-item item-layer-1 has-sub-level"><input type="checkbox">
        Sign up
          <div class="submenu menu-layer secondary">
            <div class="return-button">Back</div>
            <button type="reset" class="close-button" id="menu-button" on='tap:sidebar.toggle'></button>
            <div class="items">
                <a class="menu-item item-layer-2 external" href="http://app.fanstories.co/#/login">Login</a>
            </div>
          </div>
        </label>
    </div>
<div class="language desktop">
  <amp-accordion disable-session-states>
    <section>
      <h6 class="current">
        <a class="flag-ru"><span>русский</span></a>
      </h6>
      <div class="others">
        <div class="others-inner">
          <div><a href="/docs/guides/analytics/deep_dive_analytics.html" class="flag-en"><span>English</span></a></div>
        </div>
      </div>
    </section>
  </amp-accordion>
</div>  </form>
</amp-sidebar><header class="header fixed">

  <div class="container">
    <div class="nav-container">
      <div class="left-nav alt">
        <a href="/ru/" class="tab header-title"><span></span></a>

        <div class="tabs">
          <div class="tab">
            <a href="/ru/learn/overview/">Platform Overview</a>
            <div class="list-container">
              <div class="list-shadow"></div>
              <ul>
                <li >
                  <a href="/ru/learn/overview/" >Overview</a>
                </li>
                <li >
                  <a href="/ru/learn/about-how/" >How Fan Stories works</a>
                </li>
                <li >
                  <a href="/ru/learn/full-features/" >Feature list</a>
                </li>
                <li  class="has-sublist" >
                  <a href="/ru/learn/who-uses-fanstories/" >Who is Fan Stories for?</a>
                    <ul class="sublist">
                    </ul>
                </li>
                <li  class="has-sublist" >
                  <a href="/ru/learn/case-studies/" >Case Studies</a>
                    <ul class="sublist">
                    </ul>
                </li>
              </ul>
            </div>
          </div>
          <div class="tab active">
            <a href="/ru/docs/">Getting Started</a>
            <div class="list-container">
              <div class="list-shadow"></div>
              <ul>
                <li >
                  <a href="/ru/docs/getting-started/" >Step by step instructions</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="tab">
            <a href="/ru/latest/">News and Updates</a>
            <div class="list-container">
              <div class="list-shadow"></div>
              <ul>
                <li >
                  <a href="/ru/latest/" >What's New</a>
                </li>
                <li >
                  <a href="/ru/latest/blog" >News</a>
                </li>
                <li >
                  <a href="/ru/latest/event/" >Events</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="tab">
            <a class="external" href="http://blog.fanstories.co">Blog</a>
            <div class="list-container">
              <div class="list-shadow"></div>
              <ul>
                <li class="external" >
                  <a href="http://blog.fanstories.co/2017/09/06/fan-stories-announces-paywall-feature-for-content-creators-802.html"  target="_blank" >Latest: Announcing paywall</a>
                </li>
              </ul>
            </div>
          </div>
          <div class="tab">
            <a class="external" href="http://app.fanstories.co">Sign up</a>
            <div class="list-container">
              <div class="list-shadow"></div>
              <ul>
                <li class="external" >
                  <a href="http://app.fanstories.co/#/login"  target="_blank" >Login</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <div class="right alt">
       
        <button class="tab hamburger" id="menu-button" on='tap:sidebar.toggle'></button>
      </div>
    </div>
  </div>
</header>





  <div class="wrap">
  <div class="container main">
    






<nav class="doc-sidebar">

    <div class="current-header">
      <h1 class="title"><a href="/ru/docs">Docs</a><h1>
    </div>

    <div class="current-sections">
      <ul>
        <li>
          <ul>
          </ul>
        </li>
      </ul>
    </div>

</nav>
    <div class="content">
      <article class="post has-toc">

        <h1 class="post-title">Погружение в AMP Analytics</h1>

        <div class="post-content">
          <div class="toc">
<ul>
<li><a href="#куда-отправлять-аналитические-данные:-атрибут-type">Куда отправлять аналитические данные: атрибут type</a></li>
<li><a href="#загрузка-удаленной-конфигурации:-атрибут-config">Загрузка удаленной конфигурации: атрибут config</a></li>
<li><a href="#запросы,-триггеры-и-транспорты">Запросы, триггеры и транспорты</a><ul>
<li><a href="#какие-данные-должны-быть-отправлены:-атрибут-requests">Какие данные должны быть отправлены: атрибут requests</a><ul>
<li><a href="#добавление-url-адреса-в-запрос:-дополнительные-параметры-url">Добавление URL-адреса в запрос: дополнительные параметры URL</a></li>
</ul>
</li>
<li><a href="#когда-отправлять-данные:-атрибут-triggers">Когда отправлять данные: атрибут triggers</a></li>
<li><a href="#способ-отправки-данных:-атрибут-transport">Способ отправки данных: атрибут transport</a></li>
</ul>
</li>
<li><a href="#порядок-подстановки-переменных">Порядок подстановки переменных</a></li>
</ul>
</div>
<p>Это руководство подробно описывает использование
<a href="/docs/reference/extended/amp-analytics.html">компонента amp-analytics</a>,
разбирая пример конфигурации <code>amp-analytics</code> на следующие основные блоки:</p>
<p>Далее в руководстве используется нижеприведенный пример конфигурации,
который отслеживает просмотры страницы и переходы пользователя по ссылкам,
а затем отправляет аналитические данные стороннему поставщику –
<a href="https://developers.google.com/analytics/devguides/collection/amp-analytics/">Google Analytics</a>:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">amp-analytics</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;googleanalytics&quot;</span> <span class="na">config</span><span class="o">=</span><span class="s">&quot;https://example.com/analytics.account.config.json&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;application/json&quot;</span><span class="p">&gt;</span>
<span class="p">{</span>
  <span class="s2">&quot;requests&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;pageview&quot;</span><span class="o">:</span> <span class="s2">&quot;https://example.com/analytics?url=${canonicalUrl}&amp;title=${title}&amp;acct=${account}&quot;</span><span class="p">,</span>
    <span class="s2">&quot;event&quot;</span><span class="o">:</span> <span class="s2">&quot;https://example.com/analytics?eid=${eventId}&amp;elab=${eventLabel}&amp;acct=${account}&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;vars&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;account&quot;</span><span class="o">:</span> <span class="s2">&quot;ABC123&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;extraUrlParams&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;cd1&quot;</span><span class="o">:</span> <span class="s2">&quot;AMP&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;triggers&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;trackPageview&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;on&quot;</span><span class="o">:</span> <span class="s2">&quot;visible&quot;</span><span class="p">,</span>
      <span class="s2">&quot;request&quot;</span><span class="o">:</span> <span class="s2">&quot;pageview&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;trackAnchorClicks&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;on&quot;</span><span class="o">:</span> <span class="s2">&quot;click&quot;</span><span class="p">,</span>
      <span class="s2">&quot;selector&quot;</span><span class="o">:</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span>
      <span class="s2">&quot;request&quot;</span><span class="o">:</span> <span class="s2">&quot;event&quot;</span><span class="p">,</span>
      <span class="s2">&quot;vars&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;eventId&quot;</span><span class="o">:</span> <span class="s2">&quot;42&quot;</span><span class="p">,</span>
        <span class="s2">&quot;eventLabel&quot;</span><span class="o">:</span> <span class="s2">&quot;clicked on a link&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="s1">&#39;transport&#39;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s1">&#39;beacon&#39;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s1">&#39;xhrpost&#39;</span><span class="o">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="s1">&#39;image&#39;</span><span class="o">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">amp-analytics</span><span class="p">&gt;</span>
</pre></div>
</div>

<p><strong>Примечание.</strong> Вышеприведенный пример кода предназначен для учебных целей и не может использоваться в реальной ситуации. Если вы работаете с поставщиками аналитических услуг, то использование этого примера вряд ли имеет смысл, поскольку его сложные моменты устраняются применением конфигураций поставщика. Примеры конфигураций вы можете найти в документации вашего поставщика аналитических услуг.</p>
<h2 id="куда-отправлять-аналитические-данные:-атрибут-type">Куда отправлять аналитические данные: атрибут type</h2>
<p>AMP поддерживает два стандартных шаблона сбора данных:</p>
<ul>
<li>Передача данных в конечный пункт издателя страницы для внутренних аналитических систем.</li>
<li>Передача данных в конечный пункт поставщика услуг для взаимодействия с его решением
(например, <a href="https://helpx.adobe.com/marketing-cloud/analytics.html">Adobe Analytics</a>, <a href="http://support.chartbeat.com/docs/">Chartbeat</a>, <a href="https://developers.google.com/analytics/devguides/collection/amp-analytics/">Google Analytics</a>).</li>
</ul>
<p>Чтобы отправлять данные поставщику аналитических услуг,
добавьте атрибут <code>type</code> в тег <code>amp-analytics</code> и установите для него значение
соответствующего поставщика, как определено в
<a href="/docs/reference/extended/amp-analytics.html">спецификации amp-analytics</a>.</p>
<p>Например, тег <code>&lt;amp-analytics type="googleanalytics"&gt;</code> отправляет данные стороннему поставщику
аналитических услуг, Google Analytics.
Чтобы отправлять данные в конечный пункт издателя,
достаточно просто не указывать атрибут <code>type</code>;
аналитические данные будут отправляться в конечные пункты, определенные для каждого
<a href="/ru/docs/guides/analytics/deep_dive_analytics.html#какие-данные-должны-быть-отправлены:-атрибут-requests">запроса</a>.</p>
<p>Быстрым способом начала работы с
<code>amp-analytics</code> является применение конфигураций поставщиков аналитических услуг.
Для дальнейших указаний по их использованию следует обратиться к документации и справочным ресурсам вашего поставщика.</p>
<p>Как упоминалось ранее,
список поставщиков, уже интегрировавших свои решения с AMP, а также ссылки
на их документацию можно найти в
<a href="/docs/reference/extended/amp-analytics.html">спецификации amp-analytics</a>.</p>
<p>Если вы являетесь поставщиком аналитических услуг,
ознакомьтесь с возможностью <a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/integrating-analytics.md">интеграцией собственной конфигурации аналитики в AMP HTML</a>.</p>
<h2 id="загрузка-удаленной-конфигурации:-атрибут-config">Загрузка удаленной конфигурации: атрибут config</h2>
<p>Ваша страница AMP не обязательно должна содержать всю конфигурацию
<code>amp-analytics</code>.
Вместо этого вы можете полностью или частично загружать конфигурации с удаленного URL-адреса.</p>
<p>Это позволяет вам выполнять такие действия как, например, изменение конфигурации
для конкретных запросов.
Если вы, как издатель, можете управлять удаленным файлом,
то у вас есть возможность выполнять на сервере все действия, необходимые для создания конфигурационных данных.</p>
<p>Первым шагом для загрузки удаленных конфигураций является
добавление атрибута config в тег <code>amp-analytics</code>:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">amp-analytics</span> <span class="na">config</span><span class="o">=</span><span class="s">&quot;https://example.com/analytics.account.config.json&quot;</span><span class="p">&gt;</span>
</pre></div>
</div>

<p>Следующим шагом является создание контента в формате JSON на удаленном URL-адресе.
В этом простом примере
конфигурация, которая содержится в объекте JSON, представляет собой лишь значение переменной для учетной записи аналитической системы.</p>
<p>Пример содержимого в <code>https://example.com/analytics.account.config.json</code>:</p>
<div class="code"><div class="highlight"><pre><span></span>{
  &quot;vars&quot;: {
    &quot;account&quot;: &quot;UA-XXXXX-Y&quot;  // Replace with your property ID.
  }
}
</pre></div>
</div>

<p>Последним шагом является передача содержимого удаленного файла
в соответствующее место конфигурации <code>amp-analytics</code>.
В обоих запросах <code>pageview</code> и <code>event</code> для значения переменной
<code>account</code> здесь автоматически устанавливается
значение учетной записи в удаленном URL-адресе (<code>"account": "UA-XXXXX-Y"</code>):</p>
<div class="code"><div class="highlight"><pre><span></span>&quot;requests&quot;: {
  &quot;pageview&quot;: &quot;https://example.com/analytics?url=${canonicalUrl}<span class="err">&amp;</span>title=${title}<span class="err">&amp;</span>acct=${account}&quot;,
  &quot;event&quot;: &quot;https://example.com/analytics?eid=${eventId}<span class="err">&amp;</span>elab=${eventLabel}<span class="err">&amp;</span>acct=${account}&quot;
}
</pre></div>
</div>

<p><strong>Внимание!</strong> AMP не проверяет многократное использование одной и той же переменной.
Значения заполняются, следуя порядку приоритетности подстановки переменных,
и максимальный приоритет имеют значения из удаленных URL-адресов
(см. <a href="/ru/docs/guides/analytics/deep_dive_analytics.html#порядок-подстановки-переменных">Порядок подстановки переменных</a>).</p>
<h2 id="запросы,-триггеры-и-транспорты">Запросы, триггеры и транспорты</h2>
<p>Атрибут <code>requests</code> определяет данные, подлежащие отправке
(например, <code>pageviews</code>, <code>events</code>),
и место, куда они должны быть отправлены (URL-адреса для передачи данных).</p>
<p>Атрибут <code>triggers</code> описывает момент отправки аналитических данных,
например, при просмотре страницы пользователем или при его переходе по ссылке.</p>
<p>Атрибут <code>transport</code> указывает, каким образом должен быть отправлен запрос,
или точнее говоря, протокол передачи.</p>
<p>Далее эти параметры конфигурации рассматриваются более подробно.
(Вы можете также ознакомиться с ними в
<a href="/docs/reference/extended/amp-analytics.html">справочной документации по amp-analytics</a>).</p>
<h3 id="какие-данные-должны-быть-отправлены:-атрибут-requests">Какие данные должны быть отправлены: атрибут requests</h3>
<p>Для указания, какой запрос должен быть отправлен в ответ на конкретное событие, в конфигурации триггера используется параметр <code>request-name</code>.</p>
<p>Параметр <code>request-value</code> представляет собой URL-адрес в формате <code>https</code>.
Эти значения могут содержать теги,
которые будут ссылаться на другие запросы или переменные.</p>
<div class="code"><div class="highlight"><pre><span></span>&quot;requests&quot;: {
  &quot;pageview&quot;: &quot;https://example.com/analytics?url=${canonicalUrl}<span class="err">&amp;</span>title=${title}<span class="err">&amp;</span>acct=${account}&quot;,
  &quot;event&quot;: &quot;https://example.com/analytics?eid=${eventId}<span class="err">&amp;</span>elab=${eventLabel}<span class="err">&amp;</span>acct=${account}&quot;
}
</pre></div>
</div>

<p>Некоторые поставщики аналитических услуг (включая Google Analytics)
уже предоставляют конфигурации,
которые можно использовать с помощью атрибута <code>type</code>.
В случае использования поставщика аналитических услуг
добавление информации атрибута <code>requests</code> может не понадобиться.
Чтобы узнать, как настраивать атрибут
<code>requests</code> и нужно ли это делать, обратитесь к документации поставщика услуг.</p>
<h4 id="добавление-url-адреса-в-запрос:-дополнительные-параметры-url">Добавление URL-адреса в запрос: дополнительные параметры URL</h4>
<p>Атрибут <a href="https://github.com/ampproject/amphtml/blob/master/extensions/amp-analytics/amp-analytics.md#extra-url-params">extraUrlParams</a>
указывает дополнительные параметры, которые должны быть добавлены к строке URL-адреса запроса с использованием обычного обозначения "&amp;foo=baz".</p>
<p>В примере <code>amp-analytics</code> в запрос добавляется дополнительный параметр <code>cd1</code>,
для которого устанавливается значение "AMP":</p>
<div class="code"><div class="highlight"><pre><span></span>  &quot;extraUrlParams&quot;: {
    &quot;cd1&quot;: &quot;AMP&quot;
  }
</pre></div>
</div>

<h3 id="когда-отправлять-данные:-атрибут-triggers">Когда отправлять данные: атрибут triggers</h3>
<p>Атрибут <code>triggers</code> описывает момент отправки аналитического запроса.
Он содержит пару "ключ-значение", которая состоит из имени триггера и его конфигурации.
Имя триггера может быть представлено любой строкой, состоящей из буквенно-цифровых символов
(a-zA-Z0-9).</p>
<p>Например,
следующий элемент <code>amp-analytics</code> настроен на отправку запроса в
<code>https://example.com/analytics</code> при первой загрузке документа
и при каждом нажатии тега <code>a</code>:</p>
<div class="code"><div class="highlight"><pre><span></span>&quot;triggers&quot;: {
  &quot;trackPageview&quot;: {
    &quot;on&quot;: &quot;visible&quot;,
    &quot;request&quot;: &quot;pageview&quot;
  },
  &quot;trackAnchorClicks&quot;: {
    &quot;on&quot;: &quot;click&quot;,
    &quot;selector&quot;: &quot;a&quot;,
    &quot;request&quot;: &quot;event&quot;,
    &quot;vars&quot;: {
      &quot;eventId&quot;: &quot;42&quot;,
      &quot;eventLabel&quot;: &quot;clicked on a link&quot;
    }
  }
}
</pre></div>
</div>

<p>AMP поддерживает следующие конфигурации триггеров.</p>
<table>
  <thead>
    <tr>
      <th data-th="Trigger Config" class="col-thirty">Конфигурация триггера</th>
      <th data-th="Description">Описание</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td data-th="Trigger Config"><code>on</code> (обязательный параметр)</td>
      <td data-th="Description">Отслеживаемое событие. Допустимые значения: <code>click</code>, <code>scroll</code>, <code>timer</code> и <code>visible</code>.</td>
    </tr>
    <tr>
      <td data-th="Trigger Config"><code>request</code> (обязательный параметр)</td>
      <td data-th="Description">Имя отправляемого запроса (как указано в атрибуте <a href="/ru/docs/guides/analytics/deep_dive_analytics.html#какие-данные-должны-быть-отправлены:-атрибут-requests">requests</a>).</td>
    </tr>
    <tr>
      <td data-th="Trigger Config"><code>vars</code></td>
      <td data-th="Description">Объект, содержащий пары "ключ-значение", которые используются для переопределения переменных <code>vars</code>, определенных в конфигурации верхнего уровня, или для указания уникальных переменных <code>vars</code> этого триггера (см. также <a href="/ru/docs/guides/analytics/deep_dive_analytics.html#порядок-подстановки-переменных">Порядок подстановки переменных</a>).</td>
    </tr>
    <tr>
      <td data-th="Trigger Config"><code>selector</code> (требуется, если для <code>on</code> установлено значение <code>click</code>)</td>
      <td data-th="Description">Селектор CSS, использующийся для уточнения отслеживаемых элементов. Для отслеживания всех элементов используйте значение <code>*</code>. Эта конфигурация используется совместно с триггером <code>click</code>. Узнайте, как использовать селектор для <a href="/ru/docs/guides/analytics/use_cases.html#отслеживание-нажатий-на-странице">отслеживания нажатий на странице</a> и <a href="/ru/docs/guides/analytics/use_cases.html#отслеживание-нажатий-на-странице">взаимодействий в социальных сетях</a>.</td>
    </tr>
    <tr>
      <td data-th="Trigger Config"><code>scrollSpec</code> (требуется, если для <code>on</code> установлено значение <code>scroll</code>)</td>
      <td data-th="Description">Управляет условиями возникновения события <code>scroll</code> при прокрутке страницы. Этот объект может содержать свойства <code>verticalBoundaries</code> и <code>horizontalBoundaries</code>. Для возникновения события <code>scroll</code> требуется как минимум одно из этих свойств. Значения обоих свойств должны быть представлены массивами чисел, отражающих границы, на которых генерируется событие прокрутки. См. пример <a href="/ru/docs/guides/analytics/use_cases.html#отслеживание-прокрутки">отслеживания прокрутки</a>.</td>
    </tr>
    <tr>
      <td data-th="Trigger Config"><code>timerSpec</code> (требуется, если для <code>on</code> установлено значение <code>timer</code>)</td>
      <td data-th="Description">Определяет момент возникновения события <code>timer</code>. Таймер сработает сразу после истечения указанного интервала времени. Эта конфигурация используется совместно с триггером <code>timer</code>.</td>
    </tr>
  </tbody>
</table>

<p><strong>Внимание!</strong> Триггеры из конфигурации с низким приоритетом переопределяются
одноименными триггерами из конфигурации с более высоким приоритетом
(см. <a href="/ru/docs/guides/analytics/deep_dive_analytics.html#порядок-подстановки-переменных">Порядок подстановки переменных</a>).</p>
<h3 id="способ-отправки-данных:-атрибут-transport">Способ отправки данных: атрибут transport</h3>
<p>Атрибут <code>transport</code> определяет способ отправки запроса.
По умолчанию разрешены три следующих метода.</p>
<table>
  <thead>
    <tr>
      <th data-th="Transport Method" class="col-thirty">Метод транспорта</th>
      <th data-th="Description">Описание</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td data-th="Transport Method"><code>beacon</code></td>
      <td data-th="Description">Указывает, что для передачи запроса может использоваться метод <a href="https://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon">navigator.sendBeacon</a>. Будет отправлен запрос <code>POST</code> с учетными данными и пустым телом запроса.</td>
    </tr>
    <tr>
      <td data-th="Transport Method"><code>xhrpost</code></td>
      <td data-th="Description">Указывает, что для передачи запроса может использоваться <code>XMLHttpRequest</code>. Будет отправлен запрос <code>POST</code> с учетными данными и пустым телом запроса.</td>
    </tr>
    <tr>
      <td data-th="Transport Method"><code>image</code></td>
      <td data-th="Description">Указывает, что запрос может быть передан путем генерации тега <code>Image</code>. Будет отправлен запрос <code>GET</code>.</td>
    </tr>
  </tbody>
</table>

<p>Для запроса должен использоваться только один метод,
который включен, разрешен, доступен и имеет максимальный приоритет.</p>
<p>Порядок предпочтения: <code>beacon</code> &gt; <code>xhrpost</code> &gt; <code>image</code>.
Если метод не поддерживается пользовательским агентом клиента,
используется следующий включенный метод в порядке предпочтения.</p>
<p>Атрибут <code>transport</code> следует включать в конфигурацию только тогда, когда вы хотите
ограничить варианты транспорта,
в противном случае передача запросов может быть нарушена.</p>
<p>В следующем примере для методов
<code>beacon</code> и <code>xhrpost</code> установлено значение false,
поэтому они не будут использоваться, хотя их приоритет выше, чем у <code>image</code>.
Если пользовательский агент клиента поддерживает метод <code>image</code>,
то он будет использоваться, в противном случае запросы не будут отправляться.</p>
<div class="code"><div class="highlight"><pre><span></span>&#39;transport&#39;: {
  &#39;beacon&#39;: false,
  &#39;xhrpost&#39;: false,
  &#39;image&#39;: true
}
</pre></div>
</div>

<h2 id="порядок-подстановки-переменных">Порядок подстановки переменных</h2>
<p>AMP заполняет значения переменных в следующем порядке предпочтения.</p>
<ol>
<li>Удаленные конфигурации (через <code>config</code>).</li>
<li>Значения <code>vars</code>, вставленные в триггер внутри атрибута <code>triggers</code>.</li>
<li>Значения <code>vars</code> на верхнем уровне, вставленные внутри тега <code>amp-analytics</code>.</li>
<li>Значения, предоставленные платформой.</li>
</ol>
<p>В этом примере имеется удаленная конфигурация,
переменные, определенные на верхнем уровне, в триггерах и на уровне платформы:</p>
<div class="code"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">amp-analytics</span> <span class="na">config</span><span class="o">=</span><span class="s">&quot;http://example.com/config.json&quot;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;application/json&quot;</span><span class="p">&gt;</span>
<span class="p">{</span>
  <span class="s2">&quot;requests&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;pageview&quot;</span><span class="o">:</span> <span class="s2">&quot;https://example.com/analytics?url=${canonicalUrl}&amp;title=${title}&amp;acct=${account}&amp;clientId=${clientId(cid-scope)}&quot;</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="s2">&quot;vars&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;account&quot;</span><span class="o">:</span> <span class="s2">&quot;ABC123&quot;</span><span class="p">,</span>
    <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;Homepage&quot;</span>
  <span class="p">},</span>
  <span class="s2">&quot;triggers&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;some-event&quot;</span><span class="o">:</span> <span class="p">{</span>
      <span class="s2">&quot;on&quot;</span><span class="o">:</span> <span class="s2">&quot;visible&quot;</span><span class="p">,</span>
      <span class="s2">&quot;request&quot;</span><span class="o">:</span> <span class="s2">&quot;pageview&quot;</span><span class="p">,</span>
      <span class="s2">&quot;vars&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;My homepage&quot;</span><span class="p">,</span>
        <span class="s2">&quot;clientId&quot;</span><span class="o">:</span> <span class="s2">&quot;my user&quot;</span>
      <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
<span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">amp-analytics</span><span class="p">&gt;</span>
</pre></div>
</div>

<p>Если одна и та же переменная <code>var</code> определена в нескольких местах,
ее значение устанавливается один раз в порядке предпочтения.
Таким образом, если в примере выше удаленная конфигурация определяет для <code>account</code> значение UA-XXXXX-Y,
значения переменных будут выглядеть следующим образом:</p>
<table>
  <thead>
    <tr>
      <th data-th="var" class="col-thirty"><code>var</code></th>
      <th data-th="Value">Значение</th>
      <th data-th="Defined By" class="col-thirty">Определяет</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td data-th="var"><code>canonicalUrl</code></td>
      <td data-th="Value"><code>http://example.com/path/to/the/page</code></td>
      <td data-th="Defined By">Платформа</td>
    </tr>
    <tr>
      <td data-th="var"><code>title</code></td>
      <td data-th="Value">My homepage</td>
      <td data-th="Defined By">Триггер</td>
    </tr>
    <tr>
      <td data-th="var"><code>account</code></td>
      <td data-th="Value"><code>UA-XXXXX-Y</code></td>
      <td data-th="Defined By">Удаленная конфигурация</td>
    </tr>
    <tr>
      <td data-th="var"><code>clientId</code></td>
      <td data-th="Value">my user</td>
      <td data-th="Defined By">Триггер</td>
    </tr>
  </tbody>
</table>
        </div>

      </article>
    </div>
  </div>

  <div class="doc-footer">
    <div class="left"></div>
    <div class="right">
<a href="/ru/support/developer/" class="footer-cta">
 
  <div class="inner">
    <h2>Need more help?</h2>
    <div class="link-text">Get in touch</div>
  </div>
</a><footer>
 <div class="container">
     
    <div class="row">
      <div class="footer-icons">
        <a class="footer-privacy" href="/privacy/">Privacy</a>
      </div>
      <div class="footer-icons">
        <a class="footer-privacy" href="/terms/">Terms of Use</a>
      </div>
    </div>
  </div>
</footer>

<amp-install-serviceworker src="/service-worker.js?v2" layout="nodisplay"></amp-install-serviceworker>    </div>
  </div>
  </div>

</body>
</html>